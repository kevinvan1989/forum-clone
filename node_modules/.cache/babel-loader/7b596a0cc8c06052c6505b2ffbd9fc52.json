{"ast":null,"code":"import _classCallCheck from\"/Users/kevinvanantwerpen/Documents/Eindwerk Syntra 2020/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kevinvanantwerpen/Documents/Eindwerk Syntra 2020/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kevinvanantwerpen/Documents/Eindwerk Syntra 2020/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kevinvanantwerpen/Documents/Eindwerk Syntra 2020/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Link}from\"react-router-dom\";import{connect}from\"react-redux\";import Time from\"./Time\";import Button from\"./Button\";import Userinfo from\"./Userinfo\";import{API}from\"../libs/API\";import{showParticularPost}from\"../redux/actions/postsActions\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faTrashAlt,faPencilAlt}from\"@fortawesome/free-solid-svg-icons\";var Blogpost=/*#__PURE__*/function(_Component){_inherits(Blogpost,_Component);var _super=_createSuper(Blogpost);function Blogpost(){var _this;_classCallCheck(this,Blogpost);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.deletePost=function(id){console.log(\"delete\");API.delete(\"/api/posts/\".concat(id)).then(function(response){console.log(response);window.location.reload();});};return _this;}_createClass(Blogpost,[{key:\"render\",value:function render(){var _this2=this;console.log(\"blogpost props\",this.props);var _this$props$postDetai=this.props.postDetail,body=_this$props$postDetai.body,comments_count=_this$props$postDetai.comments_count,created_at=_this$props$postDetai.created_at,id=_this$props$postDetai.id,title=_this$props$postDetai.title,user=_this$props$postDetai.user,userId=_this$props$postDetai.user_id;var auth=this.props.auth;return/*#__PURE__*/React.createElement(\"div\",{className:\"blogpost\"},/*#__PURE__*/React.createElement(\"article\",null,/*#__PURE__*/React.createElement(\"h1\",{dangerouslySetInnerHTML:{__html:title}}),/*#__PURE__*/React.createElement(\"div\",{className:\"body-txt\",dangerouslySetInnerHTML:{__html:body}}),/*#__PURE__*/React.createElement(Time,{created_at:created_at,exactTime:true})),/*#__PURE__*/React.createElement(\"aside\",{className:\"p-3 user-info\"},/*#__PURE__*/React.createElement(Userinfo,{userId:userId,imgUrl:{avatar:user.avatar,avatar_class:\"grid__item--img\"},firstName:user.first_name,lastName:user.last_name}),/*#__PURE__*/React.createElement(\"p\",null,comments_count,\" comments\"),/*#__PURE__*/React.createElement(Button,{css:\"btn\",btnText:\"SEE DETAILS\",url:\"/postdetail/\".concat(id)}),/*#__PURE__*/React.createElement(\"div\",{className:\"btnBox\"},auth.user===\"not set\"&&/*#__PURE__*/React.createElement(Button,{css:\"btn\",btnText:\"ADD COMMENT\",url:\"/postdetail/\".concat(this.props.postDetail.id),type:\"button\",disabled:\"disabled\"})||auth.user!==\"not set\"&&/*#__PURE__*/React.createElement(Button,{css:\"btn\",btnText:\"ADD COMMENT\",url:\"/postdetail/\".concat(id),ref:\"#comment-editor\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"btnBox--abs\"},auth.user!==\"not set\"&&auth.payload.id===userId?/*#__PURE__*/React.createElement(Button,{css:\"btn btn--tr\",btnText:/*#__PURE__*/React.createElement(Link,{to:\"/edit-post/\".concat(id)},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt}))}):\"\",auth.user!==\"not set\"&&auth.payload.id===userId?/*#__PURE__*/React.createElement(Button,{css:\"btn btn--tr\",btnText:/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt}),func:function func(){return _this2.deletePost(_this2.props.postDetail.id);}}):\"\"))));}}]);return Blogpost;}(Component);var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{showDetail:function showDetail(postId){return dispatch(showParticularPost(postId));}};};export default connect(mapStateToProps,mapDispatchToProps)(Blogpost);","map":{"version":3,"sources":["/Users/kevinvanantwerpen/Documents/Eindwerk Syntra 2020/src/components/Blogpost.js"],"names":["React","Component","Link","connect","Time","Button","Userinfo","API","showParticularPost","FontAwesomeIcon","faTrashAlt","faPencilAlt","Blogpost","deletePost","id","console","log","delete","then","response","window","location","reload","props","postDetail","body","comments_count","created_at","title","user","userId","user_id","auth","__html","avatar","avatar_class","first_name","last_name","payload","mapStateToProps","state","mapDispatchToProps","dispatch","showDetail","postId"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Time from \"./Time\";\nimport Button from \"./Button\";\nimport Userinfo from \"./Userinfo\";\nimport { API } from \"../libs/API\";\nimport { showParticularPost } from \"../redux/actions/postsActions\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTrashAlt, faPencilAlt } from \"@fortawesome/free-solid-svg-icons\";\n\nclass Blogpost extends Component {\n  deletePost = (id) => {\n    console.log(\"delete\");\n    API.delete(`/api/posts/${id}`).then((response) => {\n      console.log(response);\n      window.location.reload();\n    });\n  };\n\n  render() {\n    console.log(\"blogpost props\", this.props);\n    const {\n      body,\n      comments_count,\n      created_at,\n      id,\n      title,\n      user,\n      user_id: userId,\n    } = this.props.postDetail;\n\n    const { auth } = this.props;\n\n    return (\n      <div className=\"blogpost\">\n        <article>\n          {/* <Time created_at={created_at} exactTime={true} /> */}\n          <h1 dangerouslySetInnerHTML={{ __html: title }}></h1>\n          <div\n            className=\"body-txt\"\n            dangerouslySetInnerHTML={{ __html: body }}\n          ></div>\n          <Time created_at={created_at} exactTime={true} />\n        </article>\n\n        <aside className=\"p-3 user-info\">\n          <Userinfo\n            userId={userId}\n            imgUrl={{ avatar: user.avatar, avatar_class: \"grid__item--img\" }}\n            firstName={user.first_name}\n            lastName={user.last_name}\n          />\n          <p>{comments_count} comments</p>\n          <Button css=\"btn\" btnText={`SEE DETAILS`} url={`/postdetail/${id}`} />\n          <div className=\"btnBox\">\n            {(auth.user === \"not set\" && (\n              <Button\n                css=\"btn\"\n                btnText={\"ADD COMMENT\"}\n                url={`/postdetail/${this.props.postDetail.id}`}\n                type=\"button\"\n                disabled=\"disabled\"\n              />\n            )) ||\n              (auth.user !== \"not set\" && (\n                <Button\n                  css=\"btn\"\n                  btnText={`ADD COMMENT`}\n                  url={`/postdetail/${id}`}\n                  ref={\"#comment-editor\"}\n                />\n              ))}\n            <div className=\"btnBox--abs\">\n              {/* Edit post */}\n              {auth.user !== \"not set\" && auth.payload.id === userId ? (\n                <Button\n                  css=\"btn btn--tr\"\n                  btnText={\n                    <Link to={`/edit-post/${id}`}>\n                      <FontAwesomeIcon icon={faPencilAlt} />\n                    </Link>\n                  }\n                />\n              ) : (\n                \"\"\n              )}\n              {/* Delete post */}\n              {auth.user !== \"not set\" && auth.payload.id === userId ? (\n                <Button\n                  css=\"btn btn--tr\"\n                  btnText={<FontAwesomeIcon icon={faTrashAlt} />}\n                  func={() => this.deletePost(this.props.postDetail.id)}\n                />\n              ) : (\n                \"\"\n              )}\n            </div>\n          </div>\n        </aside>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({ auth: state.auth });\n\nconst mapDispatchToProps = (dispatch) => ({\n  showDetail: (postId) => dispatch(showParticularPost(postId)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Blogpost);\n"]},"metadata":{},"sourceType":"module"}