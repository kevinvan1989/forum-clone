{"ast":null,"code":"import _classCallCheck from\"/Users/kevinvanantwerpen/Documents/Eindwerk Syntra 2020/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kevinvanantwerpen/Documents/Eindwerk Syntra 2020/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kevinvanantwerpen/Documents/Eindwerk Syntra 2020/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kevinvanantwerpen/Documents/Eindwerk Syntra 2020/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{API}from\"../libs/API\";import{Formik}from\"formik\";import{connect}from\"react-redux\";import*as Yup from\"yup\";import PostTextEditor from\"../components/PostTextEditor\";import{editPost}from\"../redux/actions/postsActions\";var EditPost=/*#__PURE__*/function(_Component){_inherits(EditPost,_Component);var _super=_createSuper(EditPost);function EditPost(){var _this;_classCallCheck(this,EditPost);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={title:\"\",body:\"\",loading:true};_this.handleSubmitCreate=function(values,postId){_this.props.edit(values,_this.props.match.params.idPost);window.location.href(\"/overview/1\");};return _this;}_createClass(EditPost,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var id=this.props.match.params.idPost;API.get(\"/api/posts/\".concat(id)).then(function(response){_this2.setState({title:response.data.title,body:response.data.body,loading:!_this2.state.loading});});}},{key:\"render\",value:function render(){var _this$state=this.state,title=_this$state.title,body=_this$state.body;return/*#__PURE__*/React.createElement(\"div\",null,!this.state.loading&&this.state.body!==\"\"?/*#__PURE__*/React.createElement(Formik,{onSubmit:this.handleSubmitCreate,initialValues:{POST_title:this.state.title,// D.m.v. deze keys worden values opgehaald in <Field>\nPOST_editor:this.state.body}// Input and give feedback / errors\n,validationSchema:Yup.object({})},function(props){return/*#__PURE__*/React.createElement(PostTextEditor,props);}):\"\");}}]);return EditPost;}(Component);var mapStateToProps=function mapStateToProps(state){return{state:state.posts};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{edit:function edit(values,postId){return dispatch(editPost(values,postId));}};};export default connect(mapStateToProps,mapDispatchToProps)(EditPost);","map":{"version":3,"sources":["/Users/kevinvanantwerpen/Documents/Eindwerk Syntra 2020/src/Pages/EditPost.js"],"names":["React","Component","API","Formik","connect","Yup","PostTextEditor","editPost","EditPost","state","title","body","loading","handleSubmitCreate","values","postId","props","edit","match","params","idPost","window","location","href","id","get","then","response","setState","data","POST_title","POST_editor","object","mapStateToProps","posts","mapDispatchToProps","dispatch"],"mappings":"wqBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,GAAT,KAAoB,aAApB,CACA,OAASC,MAAT,KAAuB,QAAvB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,KAArB,CACA,MAAOC,CAAAA,cAAP,KAA2B,8BAA3B,CACA,OAASC,QAAT,KAAyB,+BAAzB,C,GAEMC,CAAAA,Q,mUACJC,K,CAAQ,CACNC,KAAK,CAAE,EADD,CAENC,IAAI,CAAE,EAFA,CAGNC,OAAO,CAAE,IAHH,C,OAiBRC,kB,CAAqB,SAACC,MAAD,CAASC,MAAT,CAAoB,CACvC,MAAKC,KAAL,CAAWC,IAAX,CAAgBH,MAAhB,CAAwB,MAAKE,KAAL,CAAWE,KAAX,CAAiBC,MAAjB,CAAwBC,MAAhD,EACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqB,aAArB,EACD,C,iGAdmB,oBACFC,CAAAA,EADE,CACK,KAAKR,KAAL,CAAWE,KAAX,CAAiBC,MADtB,CACVC,MADU,CAElBlB,GAAG,CAACuB,GAAJ,sBAAsBD,EAAtB,GAA4BE,IAA5B,CAAiC,SAACC,QAAD,CAAc,CAC7C,MAAI,CAACC,QAAL,CAAc,CACZlB,KAAK,CAAEiB,QAAQ,CAACE,IAAT,CAAcnB,KADT,CAEZC,IAAI,CAAEgB,QAAQ,CAACE,IAAT,CAAclB,IAFR,CAGZC,OAAO,CAAE,CAAC,MAAI,CAACH,KAAL,CAAWG,OAHT,CAAd,EAKD,CAND,EAOD,C,uCAOQ,iBACiB,KAAKH,KADtB,CACCC,KADD,aACCA,KADD,CACQC,IADR,aACQA,IADR,CAGP,mBACE,+BACG,CAAC,KAAKF,KAAL,CAAWG,OAAZ,EAAuB,KAAKH,KAAL,CAAWE,IAAX,GAAoB,EAA3C,cACC,oBAAC,MAAD,EACE,QAAQ,CAAE,KAAKE,kBADjB,CAEE,aAAa,CAAE,CACbiB,UAAU,CAAE,KAAKrB,KAAL,CAAWC,KADV,CAEb;AACAqB,WAAW,CAAE,KAAKtB,KAAL,CAAWE,IAHX,CAKf;AAPF,CAQE,gBAAgB,CAAEN,GAAG,CAAC2B,MAAJ,CAAW,EAAX,CARpB,EAUG,SAAChB,KAAD,qBAAW,oBAAC,cAAD,CAAoBA,KAApB,CAAX,EAVH,CADD,CAcC,EAfJ,CADF,CAoBD,C,sBA9CoBf,S,EAiDvB,GAAMgC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACxB,KAAD,QAAY,CAClCA,KAAK,CAAEA,KAAK,CAACyB,KADqB,CAAZ,EAAxB,CAIA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,QAAe,CACxCnB,IAAI,CAAE,cAACH,MAAD,CAASC,MAAT,QAAoBqB,CAAAA,QAAQ,CAAC7B,QAAQ,CAACO,MAAD,CAASC,MAAT,CAAT,CAA5B,EADkC,CAAf,EAA3B,CAIA,cAAeX,CAAAA,OAAO,CAAC6B,eAAD,CAAkBE,kBAAlB,CAAP,CAA6C3B,QAA7C,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { API } from \"../libs/API\";\nimport { Formik } from \"formik\";\nimport { connect } from \"react-redux\";\nimport * as Yup from \"yup\";\nimport PostTextEditor from \"../components/PostTextEditor\";\nimport { editPost } from \"../redux/actions/postsActions\";\n\nclass EditPost extends Component {\n  state = {\n    title: \"\",\n    body: \"\",\n    loading: true,\n  };\n\n  componentDidMount() {\n    const { idPost: id } = this.props.match.params;\n    API.get(`/api/posts/${id}`).then((response) => {\n      this.setState({\n        title: response.data.title,\n        body: response.data.body,\n        loading: !this.state.loading,\n      });\n    });\n  }\n\n  handleSubmitCreate = (values, postId) => {\n    this.props.edit(values, this.props.match.params.idPost);\n    window.location.href(\"/overview/1\");\n  };\n\n  render() {\n    const { title, body } = this.state;\n\n    return (\n      <div>\n        {!this.state.loading && this.state.body !== \"\" ? (\n          <Formik\n            onSubmit={this.handleSubmitCreate}\n            initialValues={{\n              POST_title: this.state.title,\n              // D.m.v. deze keys worden values opgehaald in <Field>\n              POST_editor: this.state.body,\n            }}\n            // Input and give feedback / errors\n            validationSchema={Yup.object({})}\n          >\n            {(props) => <PostTextEditor {...props} />}\n          </Formik>\n        ) : (\n          \"\"\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  state: state.posts,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  edit: (values, postId) => dispatch(editPost(values, postId)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditPost);\n"]},"metadata":{},"sourceType":"module"}