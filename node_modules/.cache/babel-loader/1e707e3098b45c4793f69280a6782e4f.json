{"ast":null,"code":"import _classCallCheck from\"/Users/kevinvanantwerpen/Documents/Eindwerk Syntra 2020/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kevinvanantwerpen/Documents/Eindwerk Syntra 2020/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kevinvanantwerpen/Documents/Eindwerk Syntra 2020/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kevinvanantwerpen/Documents/Eindwerk Syntra 2020/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import ClipLoader from\"react-spinners/ClipLoader\";import{getUserProfile}from\"../redux/actions/postsActions\";import moment from\"moment\";import BlogpostProfile from\"../components/BlogpostProfile\";import Button from\"../components/Button\";var ProfilePage=/*#__PURE__*/function(_Component){_inherits(ProfilePage,_Component);var _super=_createSuper(ProfilePage);function ProfilePage(){var _this;_classCallCheck(this,ProfilePage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={loading:true};return _this;}_createClass(ProfilePage,[{key:\"componentDidMount\",value:function componentDidMount(){// console.log(this.props.match.params.id);\n// const { id } = this.props.match.params;\n// API.get(`/api/users/${id}`).then((res) => {\n//   console.log(\"detail\", res.data);\n// });\nvar id=this.props.match.params.id;this.props.getUsersDetails(id);this.setState({loading:!this.state.loading});}},{key:\"render\",value:function render(){// const {\n//   avatar,\n//   blog_posts,\n//   comments,\n//   created_at,\n//   favorite_color,\n//   first_name,\n//   last_name,\n//   last_login_at,\n// } = this.props.post.userDetails;\nvar loading=this.state.loading;var userDetails=this.props.post.userDetails;console.log(\"prof page props\",this.props.auth,'userdet',userDetails);var userId=this.props.auth.id;return/*#__PURE__*/React.createElement(\"div\",null,!loading&&userDetails?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:userDetails.avatar,alt:\"\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"\".concat(userDetails.first_name,\" \").concat(userDetails.last_name)),/*#__PURE__*/React.createElement(\"h3\",null,\"Member since: \",moment(userDetails.created_at).format(\"YYYY-MM-DD\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,/*#__PURE__*/React.createElement(\"span\",{class:\"badge badge-secondary\"},userDetails.comments.length),\" \",\"comments\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,/*#__PURE__*/React.createElement(\"span\",{class:\"badge badge-secondary\"},userDetails.blog_posts.length),\" \",\"blog posts\"))),\" \")),/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"All blog posts of \",userDetails.first_name),userDetails.blog_posts.map(function(post){return/*#__PURE__*/React.createElement(BlogpostProfile,{blogPost:post});})),/*#__PURE__*/React.createElement(\"section\",null)):/*#__PURE__*/React.createElement(ClipLoader,null));}}]);return ProfilePage;}(Component);var mapStateToProps=function mapStateToProps(state){return{post:state.posts,auth:state.auth};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{getUsersDetails:function getUsersDetails(userId){return dispatch(getUserProfile(userId));}};};export default connect(mapStateToProps,mapDispatchToProps)(ProfilePage);","map":{"version":3,"sources":["/Users/kevinvanantwerpen/Documents/Eindwerk Syntra 2020/src/Pages/ProfilePage.js"],"names":["React","Component","connect","ClipLoader","getUserProfile","moment","BlogpostProfile","Button","ProfilePage","state","loading","id","props","match","params","getUsersDetails","setState","userDetails","post","console","log","auth","userId","avatar","first_name","last_name","created_at","format","comments","length","blog_posts","map","mapStateToProps","posts","mapDispatchToProps","dispatch"],"mappings":"wqBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,2BAAvB,CACA,OAASC,cAAT,KAA+B,+BAA/B,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAOC,CAAAA,eAAP,KAA4B,+BAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,C,GAEMC,CAAAA,W,+UACJC,K,CAAQ,CACNC,OAAO,CAAE,IADH,C,oGAGY,CAClB;AACA;AAEA;AACA;AACA;AANkB,GAQVC,CAAAA,EARU,CAQH,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MARd,CAQVH,EARU,CASlB,KAAKC,KAAL,CAAWG,eAAX,CAA2BJ,EAA3B,EACA,KAAKK,QAAL,CAAc,CACZN,OAAO,CAAE,CAAC,KAAKD,KAAL,CAAWC,OADT,CAAd,EAGD,C,uCAEQ,CACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVO,GAcCA,CAAAA,OAdD,CAca,KAAKD,KAdlB,CAcCC,OAdD,IAeCO,CAAAA,WAfD,CAeiB,KAAKL,KAAL,CAAWM,IAf5B,CAeCD,WAfD,CAiBPE,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA+B,KAAKR,KAAL,CAAWS,IAA1C,CAAgD,SAAhD,CAA2DJ,WAA3D,EAjBO,GAkBIK,CAAAA,MAlBJ,CAkBc,KAAKV,KAAL,CAAWS,IAlBzB,CAkBAV,EAlBA,CAmBP,mBACE,+BACG,CAACD,OAAD,EAAYO,WAAZ,cACA,4CAEA,gDACE,4CACE,2BAAK,GAAG,CAAEA,WAAW,CAACM,MAAtB,CAA8B,GAAG,CAAC,EAAlC,EADF,CADF,cAIE,4CACE,wCAAQN,WAAW,CAACO,UAApB,aAAkCP,WAAW,CAACQ,SAA9C,EADF,cAEE,+CAAmBpB,MAAM,CAACY,WAAW,CAACS,UAAb,CAAN,CAA+BC,MAA/B,CAAsC,YAAtC,CAAnB,CAFF,cAIE,4CACE,4CACE,2CACE,4BAAM,KAAK,CAAC,uBAAZ,EACGV,WAAW,CAACW,QAAZ,CAAqBC,MADxB,CADF,CAGU,GAHV,YADF,CADF,cASE,4CACE,2CACE,4BAAM,KAAK,CAAC,uBAAZ,EACGZ,WAAW,CAACa,UAAZ,CAAuBD,MAD1B,CADF,CAGU,GAHV,cADF,CATF,CAJF,CAqBS,GArBT,CAJF,CAFA,cAgCA,gDACE,mDAAuBZ,WAAW,CAACO,UAAnC,CADF,CAEGP,WAAW,CAACa,UAAZ,CAAuBC,GAAvB,CAA2B,SAAAb,IAAI,qBAC9B,oBAAC,eAAD,EAAiB,QAAQ,CAAEA,IAA3B,EAD8B,EAA/B,CAFH,CAhCA,cAsCA,mCAtCA,CADA,cA8CC,oBAAC,UAAD,MA/CJ,CADF,CAoDD,C,yBA1FuBjB,S,EA6F1B,GAAM+B,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACvB,KAAD,QAAY,CAClCS,IAAI,CAAET,KAAK,CAACwB,KADsB,CAElCZ,IAAI,CAAEZ,KAAK,CAACY,IAFsB,CAAZ,EAAxB,CAKA,GAAMa,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,QAAe,CACxCpB,eAAe,CAAE,yBAACO,MAAD,QAAYa,CAAAA,QAAQ,CAAC/B,cAAc,CAACkB,MAAD,CAAf,CAApB,EADuB,CAAf,EAA3B,CAIA,cAAepB,CAAAA,OAAO,CAAC8B,eAAD,CAAkBE,kBAAlB,CAAP,CAA6C1B,WAA7C,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport { getUserProfile } from \"../redux/actions/postsActions\";\nimport moment from \"moment\";\nimport BlogpostProfile from \"../components/BlogpostProfile\";\nimport Button from \"../components/Button\";\n\nclass ProfilePage extends Component {\n  state = {\n    loading: true\n  };\n  componentDidMount() {\n    // console.log(this.props.match.params.id);\n    // const { id } = this.props.match.params;\n\n    // API.get(`/api/users/${id}`).then((res) => {\n    //   console.log(\"detail\", res.data);\n    // });\n\n    const { id } = this.props.match.params;\n    this.props.getUsersDetails(id);\n    this.setState({\n      loading: !this.state.loading\n    });\n  }\n\n  render() {\n    // const {\n    //   avatar,\n    //   blog_posts,\n    //   comments,\n    //   created_at,\n    //   favorite_color,\n    //   first_name,\n    //   last_name,\n    //   last_login_at,\n    // } = this.props.post.userDetails;\n\n   \n\n    const { loading } = this.state;\n    const { userDetails } = this.props.post;\n\n    console.log(\"prof page props\", this.props.auth, 'userdet', userDetails);\n    const {id: userId} = this.props.auth\n    return (\n      <div>\n        {!loading && userDetails ? (\n         <div>\n         {/* header */}\n         <section>\n           <div>\n             <img src={userDetails.avatar} alt=\"\" />\n           </div>\n           <div>\n             <h2>{`${userDetails.first_name} ${userDetails.last_name}`}</h2>\n             <h3>Member since: {moment(userDetails.created_at).format(\"YYYY-MM-DD\")}</h3>\n             {/* data totals of user */}\n             <div>\n               <div>\n                 <h3>\n                   <span class=\"badge badge-secondary\">\n                     {userDetails.comments.length}\n                   </span>{\" \"}\n                   comments\n                 </h3>\n               </div>\n               <div>\n                 <h3>\n                   <span class=\"badge badge-secondary\">\n                     {userDetails.blog_posts.length}\n                   </span>{\" \"}\n                   blog posts\n                 </h3>\n               </div>\n             </div>{\" \"}\n             {/* end of data */}\n           </div>\n         </section>\n\n         <section>\n           <h2>All blog posts of {userDetails.first_name}</h2>\n           {userDetails.blog_posts.map(post => (\n             <BlogpostProfile blogPost={post} />\n           ))}\n         </section>\n         <section>\n           \n         </section>\n       </div>\n         \n         \n        ) : (\n          <ClipLoader />\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  post: state.posts,\n  auth: state.auth\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  getUsersDetails: (userId) => dispatch(getUserProfile(userId)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfilePage);\n"]},"metadata":{},"sourceType":"module"}